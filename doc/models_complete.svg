<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: models_diagram Pages: 1 -->
<svg width="691pt" height="674pt"
 viewBox="0.00 0.00 691.22 674.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 670)">
<title>models_diagram</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-670 687.223,-670 687.223,4 -4,4"/>
<!-- _diagram_info -->
<g id="node1" class="node"><title>_diagram_info</title>
<text text-anchor="start" x="161.056" y="-651.6" font-family="Times,serif" font-size="13.00">Models diagram</text>
<text text-anchor="start" x="161.056" y="-638.6" font-family="Times,serif" font-size="13.00">Date: Jun 24 2014 &#45; 03:56</text>
<text text-anchor="start" x="161.056" y="-625.6" font-family="Times,serif" font-size="13.00">Migration version: 20140622160911</text>
<text text-anchor="start" x="161.056" y="-612.6" font-family="Times,serif" font-size="13.00">Generated by RailRoady 1.1.1</text>
<text text-anchor="start" x="161.056" y="-599.6" font-family="Times,serif" font-size="13.00">http://railroady.prestonlee.com</text>
</g>
<!-- Book -->
<g id="node2" class="node"><title>Book</title>
<path fill="none" stroke="black" d="M12,-7.5C12,-7.5 121.011,-7.5 121.011,-7.5 127.011,-7.5 133.011,-13.5 133.011,-19.5 133.011,-19.5 133.011,-179.5 133.011,-179.5 133.011,-185.5 127.011,-191.5 121.011,-191.5 121.011,-191.5 12,-191.5 12,-191.5 6,-191.5 0,-185.5 0,-179.5 0,-179.5 0,-19.5 0,-19.5 0,-13.5 6,-7.5 12,-7.5"/>
<text text-anchor="middle" x="66.5054" y="-176.3" font-family="Times,serif" font-size="14.00">Book</text>
<polyline fill="none" stroke="black" points="0,-169.5 133.011,-169.5 "/>
<text text-anchor="start" x="8" y="-154.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="8" y="-140.3" font-family="Times,serif" font-size="14.00">library_id :integer</text>
<text text-anchor="start" x="8" y="-126.3" font-family="Times,serif" font-size="14.00">age_limit :integer</text>
<text text-anchor="start" x="8" y="-112.3" font-family="Times,serif" font-size="14.00">status :integer</text>
<text text-anchor="start" x="8" y="-98.3" font-family="Times,serif" font-size="14.00">author :string</text>
<text text-anchor="start" x="8" y="-84.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="8" y="-70.3" font-family="Times,serif" font-size="14.00">count :integer</text>
<text text-anchor="start" x="8" y="-56.3" font-family="Times,serif" font-size="14.00">remain :integer</text>
<text text-anchor="start" x="8" y="-42.3" font-family="Times,serif" font-size="14.00">isbn :string</text>
<text text-anchor="start" x="8" y="-28.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="8" y="-14.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- Lending -->
<g id="node3" class="node"><title>Lending</title>
<path fill="none" stroke="black" d="M313.614,-28.5C313.614,-28.5 423.397,-28.5 423.397,-28.5 429.397,-28.5 435.397,-34.5 435.397,-40.5 435.397,-40.5 435.397,-158.5 435.397,-158.5 435.397,-164.5 429.397,-170.5 423.397,-170.5 423.397,-170.5 313.614,-170.5 313.614,-170.5 307.614,-170.5 301.614,-164.5 301.614,-158.5 301.614,-158.5 301.614,-40.5 301.614,-40.5 301.614,-34.5 307.614,-28.5 313.614,-28.5"/>
<text text-anchor="middle" x="368.505" y="-155.3" font-family="Times,serif" font-size="14.00">Lending</text>
<polyline fill="none" stroke="black" points="301.614,-148.5 435.397,-148.5 "/>
<text text-anchor="start" x="309.614" y="-133.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="309.614" y="-119.3" font-family="Times,serif" font-size="14.00">user_id :integer</text>
<text text-anchor="start" x="309.614" y="-105.3" font-family="Times,serif" font-size="14.00">expire_at :datetime</text>
<text text-anchor="start" x="309.614" y="-91.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="309.614" y="-77.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="309.614" y="-63.3" font-family="Times,serif" font-size="14.00">expired_at :datetime</text>
<text text-anchor="start" x="309.614" y="-49.3" font-family="Times,serif" font-size="14.00">book_id :integer</text>
<text text-anchor="start" x="309.614" y="-35.3" font-family="Times,serif" font-size="14.00">magazine_id :integer</text>
</g>
<!-- Library -->
<g id="node4" class="node"><title>Library</title>
<path fill="none" stroke="black" d="M357,-456.5C357,-456.5 466.011,-456.5 466.011,-456.5 472.011,-456.5 478.011,-462.5 478.011,-468.5 478.011,-468.5 478.011,-544.5 478.011,-544.5 478.011,-550.5 472.011,-556.5 466.011,-556.5 466.011,-556.5 357,-556.5 357,-556.5 351,-556.5 345,-550.5 345,-544.5 345,-544.5 345,-468.5 345,-468.5 345,-462.5 351,-456.5 357,-456.5"/>
<text text-anchor="middle" x="411.505" y="-541.3" font-family="Times,serif" font-size="14.00">Library</text>
<polyline fill="none" stroke="black" points="345,-534.5 478.011,-534.5 "/>
<text text-anchor="start" x="353" y="-519.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="353" y="-505.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="353" y="-491.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="353" y="-477.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="353" y="-463.3" font-family="Times,serif" font-size="14.00">subdomain :string</text>
</g>
<!-- Publication -->
<g id="node6" class="node"><title>Publication</title>
<path fill="none" stroke="black" d="M163,-235.5C163,-235.5 272.011,-235.5 272.011,-235.5 278.011,-235.5 284.011,-241.5 284.011,-247.5 284.011,-247.5 284.011,-407.5 284.011,-407.5 284.011,-413.5 278.011,-419.5 272.011,-419.5 272.011,-419.5 163,-419.5 163,-419.5 157,-419.5 151,-413.5 151,-407.5 151,-407.5 151,-247.5 151,-247.5 151,-241.5 157,-235.5 163,-235.5"/>
<text text-anchor="middle" x="217.505" y="-404.3" font-family="Times,serif" font-size="14.00">Publication</text>
<polyline fill="none" stroke="black" points="151,-397.5 284.011,-397.5 "/>
<text text-anchor="start" x="159" y="-382.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="159" y="-368.3" font-family="Times,serif" font-size="14.00">library_id :integer</text>
<text text-anchor="start" x="159" y="-354.3" font-family="Times,serif" font-size="14.00">age_limit :integer</text>
<text text-anchor="start" x="159" y="-340.3" font-family="Times,serif" font-size="14.00">status :integer</text>
<text text-anchor="start" x="159" y="-326.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="159" y="-312.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="159" y="-298.3" font-family="Times,serif" font-size="14.00">author :string</text>
<text text-anchor="start" x="159" y="-284.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="159" y="-270.3" font-family="Times,serif" font-size="14.00">count :integer</text>
<text text-anchor="start" x="159" y="-256.3" font-family="Times,serif" font-size="14.00">remain :integer</text>
<text text-anchor="start" x="159" y="-242.3" font-family="Times,serif" font-size="14.00">category :string</text>
</g>
<!-- Library&#45;&gt;Publication -->
<g id="edge5" class="edge"><title>Library&#45;&gt;Publication</title>
<path fill="none" stroke="#d518d6" d="M351.77,-450.999C332.804,-433.696 311.597,-414.347 291.739,-396.229"/>
<ellipse fill="none" stroke="#d518d6" cx="354.768" cy="-453.735" rx="4.00002" ry="4.00002"/>
<polygon fill="#d518d6" stroke="#d518d6" points="291.589,-396.092 287.235,-386.028 287.895,-392.722 284.202,-389.352 284.202,-389.352 284.202,-389.352 287.895,-392.722 281.169,-392.676 291.589,-396.092 291.589,-396.092"/>
</g>
<!-- Staff -->
<g id="node8" class="node"><title>Staff</title>
<path fill="none" stroke="black" d="M519.204,-263.5C519.204,-263.5 643.807,-263.5 643.807,-263.5 649.807,-263.5 655.807,-269.5 655.807,-275.5 655.807,-275.5 655.807,-379.5 655.807,-379.5 655.807,-385.5 649.807,-391.5 643.807,-391.5 643.807,-391.5 519.204,-391.5 519.204,-391.5 513.204,-391.5 507.204,-385.5 507.204,-379.5 507.204,-379.5 507.204,-275.5 507.204,-275.5 507.204,-269.5 513.204,-263.5 519.204,-263.5"/>
<text text-anchor="middle" x="581.505" y="-376.3" font-family="Times,serif" font-size="14.00">Staff</text>
<polyline fill="none" stroke="black" points="507.204,-369.5 655.807,-369.5 "/>
<text text-anchor="start" x="515.204" y="-354.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="515.204" y="-340.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="515.204" y="-326.3" font-family="Times,serif" font-size="14.00">library_id :integer</text>
<text text-anchor="start" x="515.204" y="-312.3" font-family="Times,serif" font-size="14.00">login_id :string</text>
<text text-anchor="start" x="515.204" y="-298.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="515.204" y="-284.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="515.204" y="-270.3" font-family="Times,serif" font-size="14.00">password_digest :string</text>
</g>
<!-- Library&#45;&gt;Staff -->
<g id="edge4" class="edge"><title>Library&#45;&gt;Staff</title>
<path fill="none" stroke="#8e6cf3" d="M467.76,-450.309C477.748,-440.301 487.993,-429.898 497.505,-420 503.87,-413.377 510.442,-406.425 516.976,-399.437"/>
<ellipse fill="none" stroke="#8e6cf3" cx="464.745" cy="-453.321" rx="4.00002" ry="4.00002"/>
<polygon fill="#8e6cf3" stroke="#8e6cf3" points="517.224,-399.171 527.332,-394.921 520.632,-395.512 524.04,-391.854 524.04,-391.854 524.04,-391.854 520.632,-395.512 520.747,-388.787 517.224,-399.171 517.224,-399.171"/>
</g>
<!-- User -->
<g id="node9" class="node"><title>User</title>
<path fill="none" stroke="black" d="M352.204,-256.5C352.204,-256.5 476.807,-256.5 476.807,-256.5 482.807,-256.5 488.807,-262.5 488.807,-268.5 488.807,-268.5 488.807,-386.5 488.807,-386.5 488.807,-392.5 482.807,-398.5 476.807,-398.5 476.807,-398.5 352.204,-398.5 352.204,-398.5 346.204,-398.5 340.204,-392.5 340.204,-386.5 340.204,-386.5 340.204,-268.5 340.204,-268.5 340.204,-262.5 346.204,-256.5 352.204,-256.5"/>
<text text-anchor="middle" x="414.505" y="-383.3" font-family="Times,serif" font-size="14.00">User</text>
<polyline fill="none" stroke="black" points="340.204,-376.5 488.807,-376.5 "/>
<text text-anchor="start" x="348.204" y="-361.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="348.204" y="-347.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="348.204" y="-333.3" font-family="Times,serif" font-size="14.00">library_id :integer</text>
<text text-anchor="start" x="348.204" y="-319.3" font-family="Times,serif" font-size="14.00">login_id :string</text>
<text text-anchor="start" x="348.204" y="-305.3" font-family="Times,serif" font-size="14.00">age :integer</text>
<text text-anchor="start" x="348.204" y="-291.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="348.204" y="-277.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="348.204" y="-263.3" font-family="Times,serif" font-size="14.00">password_digest :string</text>
</g>
<!-- Library&#45;&gt;User -->
<g id="edge3" class="edge"><title>Library&#45;&gt;User</title>
<path fill="none" stroke="#805b38" d="M412.478,-448.107C412.691,-435.553 412.92,-422.042 413.145,-408.779"/>
<ellipse fill="none" stroke="#805b38" cx="412.409" cy="-452.196" rx="4" ry="4"/>
<polygon fill="#805b38" stroke="#805b38" points="413.146,-408.704 417.815,-398.782 413.231,-403.705 413.315,-398.705 413.315,-398.705 413.315,-398.705 413.231,-403.705 408.816,-398.629 413.146,-408.704 413.146,-408.704"/>
</g>
<!-- Magazine -->
<g id="node5" class="node"><title>Magazine</title>
<path fill="none" stroke="black" d="M163,-0.5C163,-0.5 272.011,-0.5 272.011,-0.5 278.011,-0.5 284.011,-6.5 284.011,-12.5 284.011,-12.5 284.011,-186.5 284.011,-186.5 284.011,-192.5 278.011,-198.5 272.011,-198.5 272.011,-198.5 163,-198.5 163,-198.5 157,-198.5 151,-192.5 151,-186.5 151,-186.5 151,-12.5 151,-12.5 151,-6.5 157,-0.5 163,-0.5"/>
<text text-anchor="middle" x="217.505" y="-183.3" font-family="Times,serif" font-size="14.00">Magazine</text>
<polyline fill="none" stroke="black" points="151,-176.5 284.011,-176.5 "/>
<text text-anchor="start" x="159" y="-161.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="159" y="-147.3" font-family="Times,serif" font-size="14.00">library_id :integer</text>
<text text-anchor="start" x="159" y="-133.3" font-family="Times,serif" font-size="14.00">age_limit :integer</text>
<text text-anchor="start" x="159" y="-119.3" font-family="Times,serif" font-size="14.00">status :integer</text>
<text text-anchor="start" x="159" y="-105.3" font-family="Times,serif" font-size="14.00">author :string</text>
<text text-anchor="start" x="159" y="-91.3" font-family="Times,serif" font-size="14.00">name :string</text>
<text text-anchor="start" x="159" y="-77.3" font-family="Times,serif" font-size="14.00">count :integer</text>
<text text-anchor="start" x="159" y="-63.3" font-family="Times,serif" font-size="14.00">remain :integer</text>
<text text-anchor="start" x="159" y="-49.3" font-family="Times,serif" font-size="14.00">issn :string</text>
<text text-anchor="start" x="159" y="-35.3" font-family="Times,serif" font-size="14.00">interval :integer</text>
<text text-anchor="start" x="159" y="-21.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="159" y="-7.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- Publication&#45;&gt;Book -->
<g id="edge1" class="edge"><title>Publication&#45;&gt;Book</title>
<path fill="none" stroke="black" d="M156.523,-235.229C146.946,-220.895 137.046,-206.077 127.47,-191.745"/>
</g>
<!-- Publication&#45;&gt;Lending -->
<g id="edge8" class="edge"><title>Publication&#45;&gt;Lending</title>
<path fill="none" stroke="#9497e1" d="M283.068,-228.374C294.039,-211.953 305.295,-195.107 315.887,-179.253"/>
<ellipse fill="none" stroke="#9497e1" cx="280.71" cy="-231.903" rx="4.00002" ry="4.00002"/>
<polygon fill="#9497e1" stroke="#9497e1" points="316.142,-178.871 325.439,-173.057 318.92,-174.714 321.698,-170.557 321.698,-170.557 321.698,-170.557 318.92,-174.714 317.956,-168.057 316.142,-178.871 316.142,-178.871"/>
</g>
<!-- Publication&#45;&gt;Magazine -->
<g id="edge7" class="edge"><title>Publication&#45;&gt;Magazine</title>
<path fill="none" stroke="black" d="M217.505,-235.229C217.505,-223.223 217.505,-210.877 217.505,-198.762"/>
</g>
<!-- Reservation -->
<g id="node7" class="node"><title>Reservation</title>
<path fill="none" stroke="black" d="M546.614,-28.5C546.614,-28.5 656.397,-28.5 656.397,-28.5 662.397,-28.5 668.397,-34.5 668.397,-40.5 668.397,-40.5 668.397,-158.5 668.397,-158.5 668.397,-164.5 662.397,-170.5 656.397,-170.5 656.397,-170.5 546.614,-170.5 546.614,-170.5 540.614,-170.5 534.614,-164.5 534.614,-158.5 534.614,-158.5 534.614,-40.5 534.614,-40.5 534.614,-34.5 540.614,-28.5 546.614,-28.5"/>
<text text-anchor="middle" x="601.505" y="-155.3" font-family="Times,serif" font-size="14.00">Reservation</text>
<polyline fill="none" stroke="black" points="534.614,-148.5 668.397,-148.5 "/>
<text text-anchor="start" x="542.614" y="-133.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="542.614" y="-119.3" font-family="Times,serif" font-size="14.00">user_id :integer</text>
<text text-anchor="start" x="542.614" y="-105.3" font-family="Times,serif" font-size="14.00">expire_at :datetime</text>
<text text-anchor="start" x="542.614" y="-91.3" font-family="Times,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="542.614" y="-77.3" font-family="Times,serif" font-size="14.00">updated_at :datetime</text>
<text text-anchor="start" x="542.614" y="-63.3" font-family="Times,serif" font-size="14.00">expired_at :datetime</text>
<text text-anchor="start" x="542.614" y="-49.3" font-family="Times,serif" font-size="14.00">book_id :integer</text>
<text text-anchor="start" x="542.614" y="-35.3" font-family="Times,serif" font-size="14.00">magazine_id :integer</text>
</g>
<!-- User&#45;&gt;Lending -->
<g id="edge12" class="edge"><title>User&#45;&gt;Lending</title>
<path fill="none" stroke="#1ca805" d="M398.559,-248.155C394.116,-226.328 389.285,-202.591 384.821,-180.661"/>
<ellipse fill="none" stroke="#1ca805" cx="399.405" cy="-252.311" rx="4.00001" ry="4.00001"/>
<polygon fill="#1ca805" stroke="#1ca805" points="384.794,-180.525 387.209,-169.828 383.796,-175.625 382.799,-170.726 382.799,-170.726 382.799,-170.726 383.796,-175.625 378.389,-171.623 384.794,-180.525 384.794,-180.525"/>
</g>
<!-- User&#45;&gt;Reservation -->
<g id="edge13" class="edge"><title>User&#45;&gt;Reservation</title>
<path fill="none" stroke="#5c984e" d="M477.981,-249.786C497.012,-226.786 517.899,-201.543 536.996,-178.463"/>
<ellipse fill="none" stroke="#5c984e" cx="475.198" cy="-253.149" rx="4.00002" ry="4.00002"/>
<polygon fill="#5c984e" stroke="#5c984e" points="537.023,-178.43 546.865,-173.594 540.211,-174.578 543.398,-170.726 543.398,-170.726 543.398,-170.726 540.211,-174.578 539.931,-167.857 537.023,-178.43 537.023,-178.43"/>
</g>
<!-- ActiveRecord::Base -->
<g id="node10" class="node"><title>ActiveRecord::Base</title>
<ellipse fill="none" stroke="black" cx="459.505" cy="-629.5" rx="81.1422" ry="18"/>
<text text-anchor="middle" x="459.505" y="-625.3" font-family="Times,serif" font-size="14.00">ActiveRecord::Base</text>
</g>
<!-- ActiveRecord::Base&#45;&gt;Lending -->
<g id="edge2" class="edge"><title>ActiveRecord::Base&#45;&gt;Lending</title>
<path fill="none" stroke="black" d="M413.186,-614.617C385.509,-603.701 352.518,-585.481 335.505,-557 263.685,-436.769 306.4,-265.709 339.983,-170.799"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Library -->
<g id="edge6" class="edge"><title>ActiveRecord::Base&#45;&gt;Library</title>
<path fill="none" stroke="black" d="M452.73,-611.42C447.07,-597.154 438.71,-576.079 430.995,-556.63"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Publication -->
<g id="edge9" class="edge"><title>ActiveRecord::Base&#45;&gt;Publication</title>
<path fill="none" stroke="black" d="M421.373,-613.418C376.641,-595.442 307.412,-566.623 298.505,-557 263.555,-519.239 243.513,-465.434 232.112,-419.521"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Reservation -->
<g id="edge10" class="edge"><title>ActiveRecord::Base&#45;&gt;Reservation</title>
<path fill="none" stroke="black" d="M485.964,-612.218C532.919,-581.525 629.196,-510.028 664.505,-420 694.527,-343.455 682.37,-315.258 664.505,-235 659.659,-213.229 650.895,-190.814 641.414,-170.676"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Staff -->
<g id="edge11" class="edge"><title>ActiveRecord::Base&#45;&gt;Staff</title>
<path fill="none" stroke="black" d="M471.803,-611.53C481.608,-597.442 495.193,-576.608 504.505,-557 530.096,-503.115 551.056,-438.419 564.611,-391.643"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;User -->
<g id="edge14" class="edge"><title>ActiveRecord::Base&#45;&gt;User</title>
<path fill="none" stroke="black" d="M468.296,-611.412C475.058,-597.255 483.845,-576.387 487.505,-557 495.834,-512.891 499.045,-499.38 487.505,-456 482.292,-436.404 473.277,-416.682 463.324,-398.804"/>
</g>
</g>
</svg>
